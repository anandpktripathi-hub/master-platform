# Production Environment Variables
# Copy this file to .env.production and fill in real values

# ========================================
# Core Application
# ========================================
NODE_ENV=production
PORT=4000

# MongoDB Connection (Production MongoDB Atlas or managed instance)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/saas-production?retryWrites=true&w=majority

# JWT Secret (Generate a strong random secret: openssl rand -hex 32)
JWT_SECRET=your_production_jwt_secret_here_min_32_chars

# Frontend URL (Your production domain)
FRONTEND_URL=https://yourdomain.com
FRONTEND_PUBLIC_URL=https://yourdomain.com

# API Base URL
API_BASE_URL=https://api.yourdomain.com/api/v1

# ========================================
# Payment Providers
# ========================================

# Stripe Configuration
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your_live_secret_key_here
STRIPE_PUBLIC_KEY=pk_live_your_live_publishable_key_here

# Stripe Webhook Secret
# Get from: https://dashboard.stripe.com/webhooks
# Create webhook endpoint: https://api.yourdomain.com/api/v1/payments/webhook/stripe
# Subscribe to: payment_intent.succeeded, payment_intent.payment_failed, charge.refunded, customer.subscription.deleted
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# Razorpay Configuration
# Get from: https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=rzp_live_your_key_id_here
RAZORPAY_KEY_SECRET=your_razorpay_key_secret_here

# Razorpay Webhook Secret
# Get from: https://dashboard.razorpay.com/app/webhooks
# Create webhook endpoint: https://api.yourdomain.com/api/v1/payments/webhook/razorpay
# Subscribe to: payment.authorized, payment.failed, refund.created, subscription.cancelled
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret_here

# ========================================
# Affiliate & Referral System
# ========================================

# Commission percentage for affiliate referrals (default: 30%)
REFERRAL_COMMISSION_PERCENT=30

# Minimum payout threshold (in dollars)
MIN_PAYOUT_AMOUNT=50

# ========================================
# Email Service (Production SMTP or SendGrid/Mailgun)
# ========================================
SMTP_HOST=smtp.youremailprovider.com
SMTP_PORT=587
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
EMAIL_FROM=noreply@yourdomain.com

# ========================================
# Security & CORS
# ========================================
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# ========================================
# Monitoring & Logging
# ========================================
# Sentry DSN for error tracking (optional)
SENTRY_DSN=https://your_sentry_dsn_here

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ========================================
# File Storage (S3/CloudFlare R2/etc)
# ========================================
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=your-bucket-name
AWS_REGION=us-east-1

# ========================================
# IMPORTANT PRODUCTION NOTES
# ========================================
# 1. Never commit this file to git - it's in .gitignore
# 2. Use environment variable management from your hosting provider (Vercel, Heroku, AWS, etc)
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Use different keys for staging and production
# 5. Set up webhook URLs in Stripe/Razorpay dashboards BEFORE going live
# 6. Test webhooks using Stripe CLI: stripe listen --forward-to localhost:4000/api/v1/payments/webhook/stripe
# 7. Monitor webhook delivery in provider dashboards
